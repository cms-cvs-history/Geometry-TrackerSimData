<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../DDLSchema/DDLSchema.xsd">

<ConstantsSection label="tidring0.xml" eval="true">
 <Constant name="zero"           value="0.0*fm"/>
 <Constant name="Rmin"           value="22.530*cm"/>
 <Constant name="NPhi"           value="24"/>
 <Constant name="PhiOff"         value="0*deg"/>
 <Constant name="ICBR"           value="39.950*cm"/>
 <Constant name="CoolR1"         value="27.400*cm"/>
 <Constant name="CoolR2"         value="35.000*cm"/>
 <Constant name="CoolSide"       value="2"/>
 <Constant name="ICBTailR"       value="41.15*cm"/>
 <Constant name="ICCRPos"        value="39.62*cm"/>
 <Constant name="RPos"           value="[Rmin]+([tidmodule0:FullHeight]+
           [tidmodpar:TopFrameHeight]+[tidmodpar:BottomFrameHeight]-
           [tidmodpar:BottomFrameOver])/2"/>
 <Constant name="ICBTailW"       value="([tidringpar:Rout]-[ICBTailR]-
           [tidringpar:ICBTailTol])"/>
 <Constant name="ICBTailRPos"    value="([tidringpar:Rout]+[ICBTailR]-
           [tidringpar:ICBTailTol])/2"/>
</ConstantsSection>

<SolidSection label="tecring0.xml">
 <Tubs name="TIDRing0ICB"             rMin="([ICBR]-[tidringpar:ICBW]/2)" 
       rMax="([ICBR]+[tidringpar:ICBW]/2)" dz="[tidringpar:ICBT]/2" 
       startPhi="0*deg"               deltaPhi="360.*deg"/>
 <Box name="TIDRing0ICBTail"          dx="[tidringpar:ICBTailH]/2"
       dy="[ICBTailW]/2"              dz="[tidringpar:ICBTailT]/2"/>
 <Tubs name="TIDRing0Cool1"           rMin="([CoolR1]-[tidringpar:CoolW]/2)" 
       rMax="([CoolR1]+[tidringpar:CoolW]/2)" dz="[tidringpar:CoolT]/2" 
       startPhi="0*deg"               deltaPhi="360.*deg"/>
 <Tubs name="TIDRing0Cool2"           rMin="([CoolR2]-[tidringpar:CoolW]/2)" 
       rMax="([CoolR2]+[tidringpar:CoolW]/2)" dz="[tidringpar:CoolT]/2" 
       startPhi="0*deg"               deltaPhi="360.*deg"/>
</SolidSection>

<LogicalPartSection label="tidring0.xml">
 <LogicalPart name="TIDRing0" category="unspecified">
  <rSolid name="tidringpar:TIDRing"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="TIDStructure0" category="unspecified">
  <rSolid name="tidringpar:TIDStructure"/>
  <rMaterial name="tidmaterial:TID_mech"/>
 </LogicalPart>
 <LogicalPart name="TIDICC0" category="unspecified">
  <rSolid name="tidringpar:TIDICC"/>
  <rMaterial name="tidmaterial:TID_ICC1"/>
 </LogicalPart>
 <LogicalPart name="TIDRing0ICBTail" category="unspecified">
  <rSolid name="tidring0:TIDRing0ICBTail"/>
  <rMaterial name="tidmaterial:TID_ICB1"/>
 </LogicalPart>
 <LogicalPart name="TIDRing0ICB" category="unspecified">
  <rSolid name="tidring0:TIDRing0ICB"/>
  <rMaterial name="tidmaterial:TID_ICB1"/>
 </LogicalPart>
 <LogicalPart name="TIDRing0Cool1" category="unspecified">
  <rSolid name="tidring0:TIDRing0Cool1"/>
  <rMaterial name="tidmaterial:TID_Cool_ring"/>
 </LogicalPart>
 <LogicalPart name="TIDRing0Cool2" category="unspecified">
  <rSolid name="tidring0:TIDRing0Cool2"/>
  <rMaterial name="tidmaterial:TID_Cool_ring"/>
 </LogicalPart>
</LogicalPartSection>

<PosPartSection label="tecpetal0f.xml">
 <PosPart copyNumber="1">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDStructure0"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0ICB"/>
  <Translation x="[zero]" y="[zero]" z="-[tidringpar:ICBZ]"/>
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0ICB"/>
  <Translation x="[zero]" y="[zero]" z="[tidringpar:ICBZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0Cool1"/>
  <Translation x="[zero]" y="[zero]" z="-[tidringpar:CoolZ]"/>
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0Cool1"/>
  <Translation x="[zero]" y="[zero]" z="[tidringpar:CoolZ]"/>
 </PosPart>
 <PosPart copyNumber="1">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0Cool2"/>
  <Translation x="[zero]" y="[zero]" z="-[tidringpar:CoolZ]"/>
 </PosPart>
 <PosPart copyNumber="2">
   <rParent name="tidring0:TIDRing0"/>
   <rChild name="tidring0:TIDRing0Cool2"/>
  <Translation x="[zero]" y="[zero]" z="[tidringpar:CoolZ]"/>
 </PosPart>
</PosPartSection>

<Algorithm name="track:DDTrackerPhiAlgo">
  <rParent name="tidring0:TIDRing0"/>
  <String name="ChildName"    value="tidring0:TIDRing0ICBTail"/>
  <Numeric name="Radius"      value="[ICBTailRPos]"/>
  <Numeric name="Tilt"        value="-90*deg"/>
  <Vector name="Phi" type="numeric" nEntries="4">
   135.0*deg,         150.0*deg,          315.0*deg,         330.0*deg
  </Vector>
  <Vector name="ZPos" type="numeric" nEntries="4">
  -[tidringpar:ICBZ], [tidringpar:ICBZ], -[tidringpar:ICBZ], [tidringpar:ICBZ]
  </Vector>
</Algorithm>
<Algorithm name="track:DDTrackerAngular">
  <rParent name="tidring0:TIDStructure0"/>
  <String  name="ChildName"   value="tidringpar:TIDCoolManifold"/>
  <Numeric name="N"           value="2" />
  <Numeric name="StartCopyNo" value="1" />
  <Numeric name="IncrCopyNo"  value="1" />
  <Numeric name="RangeAngle"  value="360*deg"/>
  <Numeric name="StartAngle"  value="52.50*deg"/>
  <Numeric name="Radius"      value="[zero]"/>
  <Vector name="Center" type="numeric" nEntries="3"> 0, 0, 0 </Vector>
</Algorithm>

<Algorithm name="track:DDTIDRingAlgo">
  <rParent name="tidring0:TIDRing0"/>
  <String name="ModuleName"         value="tidmodule0:TIDModule0"/>
  <String name="ICCName"            value="tidring0:TIDICC0"/>
  <String name="CoolName"           value="tidringpar:TIDCoolInsert"/>
  <Numeric name="Number"            value="[NPhi]" />
  <Numeric name="StartAngle"        value="[PhiOff]" />
  <Numeric name="ModuleR"           value="[RPos]" />
  <Vector name="ModuleZ" type="numeric" nEntries="2">
  -[tidringpar:ModuleZDS],    [tidringpar:ModuleZDS]   </Vector>
  <Numeric name="ICCR"              value="[ICCRPos]" />
  <Vector name="ICCZ"    type="numeric" nEntries="2">
  -[tidringpar:ICCZ],         [tidringpar:ICCZ]        </Vector>
  <Vector name="CoolR"   type="numeric" nEntries="2">
   [tidring0:CoolR1],         [tidring0:CoolR2]        </Vector>
  <Vector name="CoolZ"   type="numeric" nEntries="2">
  -[tidringpar:CoolInsertZ],  [tidringpar:CoolInsertZ] </Vector>
  <Numeric name="FullHeight"        value="[tidmodule0:FullHeight]"/>
  <Numeric name="DlTop"             value="[tidmodule0:DlTop]"/>
  <Numeric name="DlBottom"          value="[tidmodule0:DlBottom]"/>
  <Numeric name="DlHybrid"          value="[tidmodule0:DlHybrid]"/>
  <Numeric name="TopFrameHeight"    value="[tidmodpar:TopFrameHeight]"/>
  <Numeric name="BottomFrameHeight" value="[tidmodpar:BottomFrameHeight]"/>
  <Numeric name="BottomFrameOver"   value="[tidmodpar:BottomFrameOver]"/>
  <Numeric name="SideFrameWidth"    value="[tidmodpar:SideFrameWidth]"/>
  <Numeric name="SideFrameOver"     value="[tidmodpar:SideFrameOver]"/>
  <Numeric name="HybridHeight"      value="[tidmodpar:HybridHeight]"/>
  <Numeric name="HybridWidth"       value="[tidmodpar:HybridWidth]"/>
  <Numeric name="CoolWidth"         value="[tidringpar:CoolInsertW]"/>
  <Numeric name="CoolSide"          value="[tidring0:CoolSide]"/>
</Algorithm>

</DDDefinition>
